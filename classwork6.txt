CREATE TABLE Employees (EmployeeID INT PRIMARY KEY, Name VARCHAR(100), DepartmentID INT, Salary DECIMAL(10,2));

CREATE TABLE BackupEmployees (EmployeeID INT, Name VARCHAR(100), DepartmentID INT,Salary DECIMAL(10,2));

CREATE TABLE EmployeeHistory (HistoryID INT AUTO_INCREMENT PRIMARY KEY, EmployeeID INT, Name VARCHAR(100), DepartmentID INT, OldSalary DECIMAL(10,2), UpdatedAt DATETIME);

CREATE TABLE DeletedEmployees (EmployeeID INT, Name VARCHAR(100), DepartmentID INT, Salary DECIMAL(10,2));

CREATE TABLE SalaryUpdates (UpdateID INT AUTO_INCREMENT PRIMARY KEY, EmployeeID INT, OldSalary DECIMAL(10,2), NewSalary DECIMAL(10,2), UpdateTimestamp DATETIME);

--4
CREATE OR REPLACE TRIGGER backup_employee_after_insert
AFTER INSERT ON Employees
FOR EACH ROW
INSERT INTO BackupEmployees VALUES (NEW.EmployeeID, NEW.Name, NEW.DepartmentID, NEW.Salary);

--5
CREATE OR REPLACE TRIGGER employee_before_update
BEFORE UPDATE ON Employees
FOR EACH ROW
INSERT INTO EmployeeHistory VALUES (OLD.EmployeeID, OLD.Name, OLD.DepartmentID, OLD.Salary, NOW());

--6
CREATE OR REPLACE TRIGGER employee_before_delete
BEFORE DELETE ON Employees
FOR EACH ROW
INSERT INTO DeletedEmployees VALUES (OLD.EmployeeID, OLD.Name, OLD.DepartmentID, OLD.Salary);

--7
CREATE OR REPLACE TRIGGER monitorhighsalaries
AFTER UPDATE ON Employees
FOR EACH ROW
BEGIN
    IF NEW.Salary > 100000 THEN
        INSERT INTO SalaryUpdates VALUES (NEW.EmployeeID, OLD.Salary, NEW.Salary, NOW());
    END IF;
END;
